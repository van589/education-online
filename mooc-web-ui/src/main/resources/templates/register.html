<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>个人注册</title>
    <link rel="stylesheet" type="text/css" href="/static/assets/css/index.css">
    <link rel="stylesheet" type="text/css" href="/static/assets/css/ziy.css">

</head>
<body>
<!--dengl-->
<div class="yiny">
    <div class="beij_center">
        <div class="dengl_logo">
            <img src="/static/assets/images/logo_1.png">
            <h1>欢迎注册</h1>
        </div>
    </div>
</div>
<div class="beij_center">
    <div class="ger_zhuc_beij">
        <div class="ger_zhuc_biaot">
            <ul>
                <li class="ger_border_color"><a href="#">个人注册</a></li>
            </ul>
        </div>
        <div class="zhuc_biaod">
            <form action="/register" id="inputForm" method="post">
                <div class="reg-items">
              	<span class="reg-label">
                	<label>用户名：</label>
              	</span>
                    <input name="name" id="name" class="i-text form-control required" type="text">
                    <div id="usernameInfo"></div>
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>昵称：</label>
              	</span>
                    <input name="nickname" class="i-text required" type="text">
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>设置密码：</label>
              	</span>
                    <input name="password" class="i-text required" type="text">
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>性别：</label>
              	</span>
                    <select name="sex" class="i-text required">
                        <option value="Male" selected="selected">男</option>
                        <option value="Female">女</option>
                    </select>
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>手机号码：</label>
              	</span>
                    <input name="phone" class="i-text required mobile" type="text">
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>电子邮箱：</label>
              	</span>
                    <input name="email" class="i-text required email" type="text">
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>微信号：</label>
              	</span>
                    <input name="wechar" class="i-text" type="text">
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label>学历：</label>
              	</span>
                    <select name="education" class="i-text">
                        <option value="" selected="selected" disabled>无</option>
                        <option value="本科">本科</option>
                        <option value="专科">专科</option>
                        <option value="中专">中专</option>
                        <option value="高中">高中</option>
                        <option value="硕士">硕士</option>
                        <option value="博士">博士</option>
                    </select>
                </div>
                <div class="reg-items">
              	<span class="reg-label">
                	<label> </label>
              	</span>
                    <input class="reg-btn" value="立即注册" type="submit">
                </div>
            </form>
        </div>
        <div class="xiaogg">
            <img src="/static/assets/images/cdsgfd.jpg">
        </div>
    </div>
</div>

<!-- 导入公共的 copyright-->
<div th:replace="includes/common_includes :: common_foot"></div>

<!-- 导入公共的 copyright-->
<div th:replace="includes/common_includes :: common_copyright"></div>

<script type="text/javascript">
    $(function () {
        //为输入框绑定事件
        $("#name").blur(function () {
            //1失去焦点，获得表单输入数据
            var usernameInput = $(this).val();
            //2去服务端校验该用户名是否存在--ajax将用户名提交到服务器校验
            $.ajax({
                    url:"/register/check",
                    type:"GET",
                    contentType: "application/x-www-form-urlencoded; charset=utf-8",
                    data:{"name":usernameInput},
                    success:function (data) {
                        var isExit = data.status;
                        //3根据返回的isExit动态显示信息
                        var usernameInfo = data.message;
                        if (isExit === 500){
                            $("#usernameInfo").css("color","red");
                        }else {
                            $("#usernameInfo").css("color","green");
                        }
                        $("#usernameInfo").html(usernameInfo);
                    },
                    dataType:"json",
                }

            );

        });
    });
</script>
</body>
</html>